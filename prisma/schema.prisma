datasource db {
  provider = "postgresql"
}

generator client {
  provider = "prisma-client"
  output   = "../app/.generated/"
  moduleFormat = "esm"
}

model BucketConfig {
  id       Int     @id @default(autoincrement())
  userId   String
  name     String
  provider String  // "aws" for AWS S3, user-defined for others (e.g., "minio")
  endpoint String  // Required - AWS endpoint or custom (MinIO)
  roleArn  String? // Optional - only needed for AWS
  region   String? // Optional - only needed for AWS
  prefix   String  @default("")  

  @@unique([userId, provider, name, prefix])  // Updated unique constraint

}
